<!DOCTYPE html>
<html lang="it">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>CameriereSala</title>
  <link href="https://fonts.googleapis.com/css2?family=Poppins&display=swap" rel="stylesheet">
  <style>
    body {
      font-family: 'Poppins', sans-serif;
      background-color: #000000;        /*colore sfondo*/
      color: #ffffff;
      margin: 0;
      padding: 20px;
      text-align: center;
    }

    h1 {
      color: #ffe600;
      font-size: 2.5rem;
      margin-bottom: 20px;
      text-shadow: 0 0 5px #ffe600;
	  position: sticky;
      top: 0;
      background-color: #000000;  /*colore strisci titolo*/
      padding: 10px 0;
      z-index: 1000;
    }

    select, button {  <!-- tasto aggiungi rosa -->
      margin: 1px 5px;
      padding: 5px;
      font-size: 1rem;
      border-radius: 2px;
      border: none;
      outline: none;
    }

    select {
      background-color: #333;
      color: white;
    }

    button {
      background-color: #ff00cc;
      color: white;
      cursor: pointer;
    }

    button:hover {
      background-color: #ff33dd; <!-- colre rosa sfondo aggiungi -->
    }

      #productList {
      display: grid;
      grid-template-columns: repeat(3, 1fr);
      gap: 20px;
      justify-items: center;
    }

    .product {
      background: #2a0b3b; /* sfondo principale */
      border-radius: 15px;
      padding: 15px;
      box-shadow: 0 0 10px rgba(255, 255, 255, 0.1);
      animation: fadeIn 0.5s ease-in-out;
      text-align: center;
      width: 100%;
      max-width: 140px; /* più piccola per stare in 3 per riga */
    }
	    @keyframes fadeIn {
          from { opacity: 0; transform: translateY(10px); }
          to { opacity: 1; transform: translateY(0); }
		                  }

    .product strong {
      color: #00f0ff;
      font-size: 1.2rem;
    }

    #orderSummary {
      margin-top: 40px;
    }

    table {    <!--TABELLA RIEPILOGO -->
      margin: 0 auto;
      width: 90%;
      border-collapse: collapse;
      background-color: #2a0b3b;
      border-radius: 15px;
      overflow: hidden;
    }

    th, td {
      border: 1px solid #555;
      padding: 10px;
      color: #fff;
    }

    th {
      background-color: #3a104d;
      color: #ff33dd;  <!-- colore scritte tabella -->
    }

    td button.remove {
      color: red;
      background: none;
      border: none;
      cursor: pointer;
    }

    #totalPrice {
      margin-top: 20px;
      font-size: 1.4rem;
      color: #00ff90;
      text-shadow: 0 0 3px #00ff90;
    }

    body::after {
      content: "";
      position: absolute;
      top: 0; left: 0; right: 0; bottom: 0;
      background-image:
        radial-gradient(#ff0040 3px, transparent 4px),
        radial-gradient(#ffe600 3px, transparent 4px),
        radial-gradient(#00ff90 3px, transparent 4px);
      background-position: 20px 40px, 100px 200px, 200px 300px;
      background-size: 150px 150px;
      background-repeat: repeat;
      opacity: 0.1;
      z-index: -1;
    }
  </style>
</head>
<body>
  <h1>StaffSala</h1>


  <div> 
            <!-- FINESTRA PER INSERIRE IL TAVOLO -->
		   <input type="text" id="table-number" placeholder="Inserisci Tavolo">  <br> <br>
           


    <select id="categorySelect" onchange="showProducts()">
      <option value="">-- Seleziona --</option>
	  
	  <!-- CATEGORIE -->
	  
      <option value="Snack">Snack</option>
      <option value="Fritti">Fritti</option>
	  <option value="Burgers">Burgers</option>
	  <option value="Insalate">Insalate</option>
	  <option value="Piatti Messicani">Piatti Messicani</option>
      <option value="Dolci">Dolci</option>
	  <option value="Bevande">Bevande</option>
	  <option value="Drinks">Drinks</option>
	  <option value="Spritz">Spritz</option>
	  <option value="Birre">Birre</option>
	  <option value="Artigianali">Artigianali</option>
	  <option value="Caffetteria">Caffetteria</option>
	  
	  
    </select>
  </div>

  <div id="productList"></div>

  <div id="orderSummary">
    

    
    <table>
      <thead>
        <tr>
          <th>Prodotto</th>
          <th>Quantita'</th>
          <th>Prezzo</th> 
          <th>Totale</th>
          <th>Azioni</th>
        </tr>
      </thead>
      <tbody id="summaryList"></tbody>
    </table>  <!-- CHIUSURA TABLE PRINCIPALE --> <br>
	<button onclick="clearOrder()">Svuota Ordine</button>
	<button onclick="downloadOrder()">confermare la comanda?</button>

	 <h3 id="totalPrice">Totale: 0.00</h3>
        <form align="center">
		  <textarea rows= "14" cols="50 "id="note" placeholder="Note"></textarea>
		</form> 
    </p>
	

  </div>



  <script>
    const menuData = {
      categories: ["Snack", "Fritti", "Insalate", "Burgers", "Piatti Messicani","Bevande", "Drinks", "Spritz", "Caffetteria", "Dolci", "Birre", "Artigianali"],
      products: [
	  { name: "Arachidi", category: "Snack", price: 2.00 },
        { name: "Nachos", category: "Snack", price: 4.00 },
		{ name: "Nachos Con Cheddar", category: "Snack", price: 6.00 },
		{ name: "Olive", category: "Snack", price: 3.00 },
		{ name: "Pistacchi", category: "Snack", price: 3.00 },
		{ name: "Chips", category: "Snack", price: 2.00 },
		
		
		
		
        { name: "Alette di Pollo -5pz", category: "Fritti", price: 6.00 },
		{ name: "Cheddar Sticks -5pz", category: "Fritti", price: 5.00 },
		{ name: "Chili Cheese Nuggets -7pz", category: "Fritti", price: 5.00 },
		{ name: "Mozzarella Sticks -5pz", category: "Fritti", price: 5.00 },
		{ name: "Polpettine di Melanzana -6pz", category: "Fritti", price: 5.00 },
		{ name: "Nuggets di Pollo -5pz", category: "Fritti", price: 5.00 },
		{ name: "Onion Rings -6pz", category: "Fritti", price: 5.00 },
		{ name: "Patatine Fritte", category: "Fritti", price: 4.00 },
		{ name: "Mushroom Bites -5pz", category: "Fritti", price: 5.00 },
		{ name: "Triangolini Vegani -6pz", category: "Fritti", price: 6.00 },
		
			
        { name: "Bacon Burger", category: "Burgers", price: 11.00 },
		{ name: "Bosco Burger", category: "Burgers", price: 14.00 },
		{ name: "Cheese Burger", category: "Burgers", price: 10.00 },
		{ name: "Crispy Chicken Burger", category: "Burgers", price: 10.00 },
		{ name: "Pulled Pork", category: "Burgers", price: 13.00 },
		{ name: "Smash Burger", category: "Burgers", price: 13.00 },
		{ name: "Vulcano Burger", category: "Burgers", price: 13.00, customColor: "red" },
		{ name: "Double Trouble Burger", category: "Burgers", price: 18.00 },
		{ name: "Paradice Chicken Burger", category: "Burgers", price: 12.00 },
		{ name: "Green Burger <br>", category: "Burgers", price: 12.00, customColor: "#00FF00"  },
		
		
		
        { name: "Caesar Salad", category: "Insalate", price: 8.50 },
		{ name: "Mex Salad", category: "Insalate", price: 9.00 },
		{ name: "Paradice Salad", category: "Insalate", price: 9.00 },
		{ name: "Veggie Salad", category: "Insalate", price: 8.50, customColor: "#00FF00" },
		
		
		
		
		
        { name: "Tacos Triplete", category: "Piatti Messicani", price: 9.00 },
		{ name: "Quesadilla Loca", category: "Piatti Messicani", price: 12.00 },
		{ name: "Burrito Supremo", category: "Piatti Messicani", price: 8.00 },
		{ name: "Chili Combo", price: 8.00 },
		
		
		
       
		
		{ name: "Pancakes <br> •topping?", category: "Dolci", price: 5.00 },
		{ name: "Coppa Gelato <br> •Crema o Cioccolato?", category: "Dolci", price: 4.00 },
		{ name: "Sweet Paradice", category: "Dolci", price: 6.00 },
		{ name: "Waffle <br> •topping?", category: "Dolci", price: 5.00 },
		{ name: "Lotus Cake", category: "Dolci", price: 6.00 },
		
		
		{ name: "Acqua Piccola naturale", category: "Bevande", price: 1.50 },
		{ name: "Acqua Piccola frizzante", category: "Bevande", price: 1.50 },
		{ name: "Coca Cola Vetro <br> Normale", category: "Bevande", price: 2.50 },
		{ name: "Coca Cola Vetro <br> Zero", category: "Bevande", price: 2.50 },
		{ name: "Fanta Vetro", category: "Bevande", price: 2.50 },
		{ name: "Sprite Vetro", category: "Bevande", price: 2.50 },
		{ name: "Thé <br> •Limone o Pesca ", category: "Bevande", price: 2.50 },
		{ name: "Acqua Grande", category: "Bevande", price: 3.00 },
		{ name: "Coca Cola Grande <br> •Normale o Zero", category: "Bevande", price: 3.50 },
		{ name: "Fanta Grande", category: "Bevande", price: 3.50 },
	
		
		
        { name: "Amaretto Sour", category: "Drinks", price: 7.00 },
		{ name: "Americano", category: "Drinks", price: 7.00 },
		{ name: "Boulevardier", category: "Drinks", price: 7.00 },
		{ name: "Cuba Libre", category: "Drinks", price: 7.00 },
		{ name: "Mojito", category: "Drinks", price: 7.00 },
		{ name: "Moscow Mule", category: "Drinks", price: 7.00 },
		{ name: "Negroni", category: "Drinks", price: 7.00 },
		{ name: "Old Fashioned", category: "Drinks", price: 7.00 },
		{ name: "Paloma", category: "Drinks", price: 7.00 },
		{ name: "Pina Colada", category: "Drinks", price: 7.00 },
		{ name: "Vodka Tonic", category: "Drinks", price: 7.00 },
		{ name: "Gin Lemon", category: "Drinks", price: 7.00 },
		{ name: "Gin Tonic", category: "Drinks", price: 7.00 },
		
		
        { name: "Aperol Spritz", category: "Spritz", price: 5.00 },
		{ name: "Campari Spritz", category: "Spritz", price: 5.00 },
		{ name: "Hugo Spritz", category: "Spritz", price: 5.00 },
		{ name: "Limoncello Spritz", category: "Spritz", price: 5.00 },
		{ name: "Passion Spritz", category: "Spritz", price: 5.00 },
		
		
		{ name: "Messina Cristalli di Sale", category: "Birre", price: 4.00 },
		{ name: "Ichnusa “non filtrata”", category: "Birre", price: 3.00 },
		{ name: "Menabrea", category: "Birre", price: 4.00 },
		
		
		{ name: "Hausbier 33cl <br> Lager 5,0%", category: "Artigianali", price: 5.00 },
		{ name: "Choose a fucking big television 33cl<br> Double I.P.A 8,0%", category: "Artigianali", price: 5.00 },
		{ name: "Zaubeziege 33cl <br> Bock 6,5%", category: "Artigianali", price: 5.00 },
			
        { name: "Espresso", category: "Caffetteria", price: 1.20 },
		{ name: "Cappuccino", category: "Caffetteria", price: 1.60 },
		{ name: "Cappuccino di Soia", category: "Caffetteria", price: 1.80 },
		{ name: "Cappuccino no Lattosio", category: "Caffetteria", price: 1.80 },
		{ name: "Tè e Infusi", category: "Caffetteria", price: 4.00 },
		
	
	
		
      ]
    };

    let order = [];

    function showProducts() {
      const cat = document.getElementById('categorySelect').value;
      const container = document.getElementById('productList');
      container.innerHTML = '';

      if (!cat) return;

      const prods = menuData.products.filter(p => p.category === cat);
      prods.forEach(prod => {
        const div = document.createElement('div');
        div.className = 'product';
        div.innerHTML = `
          <!-- <strong>${prod.name}</strong><br>${prod.price.toFixed(2)}<br> -->
          <strong style="color: ${prod.customColor};">${prod.name}</strong><br>${prod.price.toFixed(2)}<br>

          <button onclick="addToOrder('${prod.name}')">Aggiungi</button>
        `;
        container.appendChild(div);
      });
    }

    function addToOrder(productName) {
      const prod = menuData.products.find(p => p.name === productName);
      const existingIndex = order.findIndex(item => item.name === prod.name);

      if (existingIndex >= 0) {
        order[existingIndex].quantity += 1;
      } else {
        order.push({ ...prod, quantity: 1 });
      }
      updateSummary();
    }
function clearOrder() {
      order = [];
      updateSummary();}
	  
    function removeFromOrder(index) {
      if (order[index].quantity > 1) {
        order[index].quantity -= 1;
      } else {
        order.splice(index, 1);
      }
      updateSummary();
    }

    function updateSummary() {
  const tbody = document.getElementById('summaryList');
  tbody.innerHTML = '';
  let total = 0;

  <!-- Raggruppa per categoria -->
  const grouped = {};
  order.forEach(item => {
    if (!grouped[item.category]) {
      grouped[item.category] = [];
    }
    grouped[item.category].push(item);
  });

  //

<!--  Ordina categorie in base a menuData.categories -->
  menuData.categories.forEach(category => {
    const items = grouped[category];
    if (items) {
      <!-- Intestazione categoria -->
      const catRow = document.createElement('tr');
      catRow.innerHTML = `<td colspan="1" style="font-weight:bold; background-color:#3a104d; color:#ffe600;">${category}</td>`;
      tbody.appendChild(catRow);

      items.forEach((item, i) => {
        const subtotal = item.price * item.quantity;
        total += subtotal;

        const tr = document.createElement('tr');
        tr.innerHTML = `
          <td>${item.name}</td>
          <td>${item.quantity}</td>
          <td>${item.price.toFixed(2)}</td>
          <td>${subtotal.toFixed(2)}</td>
          <td><button class="remove" onclick="removeFromOrder(${order.indexOf(item)})">rimuovi</button></td>
        `;
        tbody.appendChild(tr);
      });
    }
  });

  document.getElementById('totalPrice').textContent = `Totale: ${total.toFixed(2)}`;
  
}

    showProducts();
    updateSummary();
	
	<!-- PER SCARICARE LA COMANDA -->
function downloadOrder() {
  if (order.length === 0) {
    alert("Nessun prodotto nell'ordine.");
    return;
  }
  
  const conferma = confirm("Sei sicuro di voler scaricare la comanda?"); <!-- DOMANDA DI CONFERMA PER SCARICARE -->
  if (!conferma) return;

  const tableNumber = document.getElementById("table-number").value.trim() || "Non specificato";
  const note = document.getElementById("note").value.trim() || "Nessuna nota";

  let text = `=== COMANDA  Tavolo: ${tableNumber} ===\n\n\n`;
  text += `Note: ${note}\n\n`;

  let total = 0;
  const grouped = {};
  order.forEach(item => {
    if (!grouped[item.category]) {
      grouped[item.category] = [];
    }
    grouped[item.category].push(item);
  });

  menuData.categories.forEach(category => {
    const items = grouped[category];
    if (items) {
      text += `-- ${category} --\n`;
      items.forEach(item => {
        const subtotal = item.quantity * item.price;
        total += subtotal;
        text += `${item.name} x${item.quantity} - €${subtotal.toFixed(2)}\n`;
      });
      text += "\n";
    }
  });

  text += `TOTALE: €${total.toFixed(2)}\n`;

  <!-- APRI IN UNA NUOVA SCHEDA -->
  const newWindow = window.open('', '_blank');
newWindow.document.write(`
  <html>
    <head>
      <meta name="viewport" content="width=device-width, initial-scale=1.0">
      <title>Comanda Tavolo ${tableNumber}</title>
    </head>
    <body style="margin:0; padding:20px; font-family:monospace; font-size:20px; line-height:1.5;">
      <pre style="white-space: pre-wrap;">${text}</pre>
    </body>
  </html>
`);
;

  newWindow.document.title = ` ${tableNumber}`;
}




  </script>
</body>
</html>
